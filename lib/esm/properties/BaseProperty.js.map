{"version":3,"file":"BaseProperty.js","sources":["../../../src/properties/BaseProperty.js"],"sourcesContent":["export class BaseProperty {\n  #abstractPropertiesAndMethods = [\n    \"prop\",\n    \"cardinality\",\n    \"acceptableParamTypes\",\n    \"acceptableValTypes\",\n    \"params\",\n    \"paramsXML\",\n    \"paramsJSON\",\n    \"value\",\n    \"valueXML\",\n    \"valueJSON\",\n    \"identifier\",\n  ];\n\n  checkAbstractPropertiesAndMethods() {\n    if (\n      !this.#abstractPropertiesAndMethods.every(\n        (abstractPropertyOrMethod) =>\n          Object.prototype.hasOwnProperty.call(\n            this,\n            abstractPropertyOrMethod\n          ) ||\n          Object.prototype.hasOwnProperty.call(\n            Object.getPrototypeOf(this),\n            abstractPropertyOrMethod\n          ) ||\n          Object.prototype.hasOwnProperty.call(\n            this.constructor,\n            abstractPropertyOrMethod\n          )\n      )\n    )\n      throw new Error(\n        \"All abstract properties and methods in base class must be defined in child class\"\n      );\n  }\n\n  repr() {\n    const contentLine =\n      this.params === \"\"\n        ? `${this.constructor.prop || this.prop}:${this.value}`\n        : `${this.constructor.prop || this.prop};${this.params}:${this.value}`;\n\n    const LINEBREAK = \"\\r\\n\" + \" \";\n    const MAXWIDTH = 75;\n\n    if (contentLine.length <= MAXWIDTH) return contentLine;\n\n    let foldedContentLine = \"\";\n\n    for (let index = 0; index < contentLine.length; index++) {\n      if (index > 0 && index % MAXWIDTH === 0)\n        foldedContentLine += LINEBREAK + contentLine[index];\n      else foldedContentLine += contentLine[index];\n    }\n    return foldedContentLine;\n  }\n\n  reprXML() {\n    const tag =\n      this.constructor.prop?.toLowerCase() || this.prop?.toLowerCase();\n\n    if (tag === \"xml\") return this.valueXML;\n\n    return this.paramsXML === \"\"\n      ? `<${tag}>${this.valueXML}</${tag}>`\n      : `<${tag}><parameters>${this.paramsXML}</parameters>${this.valueXML}</${tag}>`;\n  }\n\n  reprJSON() {\n    return [\n      this.constructor.prop?.toLowerCase() || this.prop?.toLowerCase(),\n      this.paramsJSON,\n      ...this.valueJSON,\n    ];\n  }\n\n  constructor() {\n    if (this.constructor === BaseProperty)\n      throw new Error(\"Cannot create instance of base class\");\n  }\n}\n\nObject.freeze(BaseProperty);\n"],"names":["BaseProperty","constructor","Error","every","abstractPropertyOrMethod","Object","prototype","hasOwnProperty","call","getPrototypeOf","contentLine","params","prop","value","LINEBREAK","MAXWIDTH","length","foldedContentLine","index","tag","toLowerCase","valueXML","paramsXML","paramsJSON","valueJSON","freeze"],"mappings":"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"}